---
id: 349d7e86fb3b52c2ab8ddbd3bb30b5fe
title: SaltStack多个高危漏洞风险通告
tags: 
  - 安全资讯
  - 360CERT
---

# SaltStack多个高危漏洞风险通告

0x01 事件简述
---------


2020年11月04日，360CERT监测发现 `SaltStack` 发布了 `多个高危漏洞` 的风险通告，相关漏洞编号有 `CVE-2020-16846,CVE-2020-17490,CVE-2020-25592` ，漏洞等级： `严重` ，漏洞评分： `9.8` 。


未授权的远程攻击者通过 `发送特制的请求包` ,可造成 `任意命令执行` 。


对此，360CERT建议广大用户及时将 `SaltStack` 升级到最新版本。与此同时，请做好资产自查以及预防工作，以免遭受黑客攻击。


0x02 风险等级
---------


360CERT对该事件的评定结果如下




| 评定方式 | 等级 |
| --- | --- |
| 威胁等级 | 严重 |
| 影响面 | 广泛 |
| 360CERT评分 | 9.8 |


0x03 漏洞详情
---------


### CVE-2020-16846: 命令注入漏洞


未经过身份验证的攻击者通过发送特制请求包，可通过 Salt API 注入 ssh 连接命令。导致命令执行。


### CVE-2020-17490: 逻辑漏洞


Salt `tls执行模块` 中函数 `create_ca` ， `create_csr` 和 `create_self_signed_cert` 中存在逻辑漏洞，不能确保密钥使用正确的权限创建。


本地攻击者通过以低权限用户登录 salt 主机，可以从当前 salt 程序主机上读取到密钥内容。导致信息泄漏。


### CVE-2020-25592: 验证绕过漏洞


Salt 在验证 `eauth` 凭据和访问控制列表 `ACL` 时存在一处验证绕过漏洞。


未经过身份验证的远程攻击者通过发送特制的请求包，可以通过 `salt-api` 绕过身份验证，并使用 salt ssh 连接目标服务器。结合 `CVE-2020-16846` 可能造成命令执行。


0x04 影响版本
---------


* `saltstack:salt` : 2015/2016/2017/2018/2019/3000/3001/3002


0x05 修复建议
---------


### 通用修补建议


建议从官方下载最新的软件版本


[SaltStack新版下载地址](https://repo.saltstack.com/)


### 临时修补建议


建议从官方下载对应版本的修复补丁


[SaltStack修复补丁下载地址](https://gitlab.com/saltstack/open/salt-patches)


