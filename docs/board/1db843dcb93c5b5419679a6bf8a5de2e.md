---
id: 1db843dcb93c5b5419679a6bf8a5de2e
title:  32位Redis远程代码执行漏洞
tags: 
  - 安全资讯
  - 360CERT
---

#  32位Redis远程代码执行漏洞

 0x01   漏洞简述
------------


2021年07月22日，360CERT监测发现`Redis官方`发布了`Redis远程代码执行漏洞`的风险通告，漏洞编号为`CVE-2021-32761`，漏洞等级：`高危`，漏洞评分：`8.5`。

Redis是世界范围内应用最广泛的内存型高速键值对数据库。Redis中存在一处整形溢出漏洞，并可能导致内存越界读。Redis`*BIT*`命令与`proto-max-bulk-len`配置参数结合的情况下能够造成整形溢出，最终导致远程代码执行。

对此，360CERT建议广大用户及时将`Redis`升级到最新版本。与此同时，请做好资产自查以及预防工作，以免遭受黑客攻击。

 0x02   风险等级
------------

360CERT对该漏洞的评定结果如下



| 评定方式 | 等级 |
| --- | --- |
| 威胁等级 | 高危 |
| 影响面 | 广泛 |
| 攻击者价值 | 高 |
| 利用难度 | 高 |
| 360CERT评分 | 8.5 |

 0x03   漏洞详情
------------

### CVE-2021-32761: Redis 整形溢出漏洞

CVE: CVE-2021-32761

组件: Redis

漏洞类型: 整形溢出

影响: 代码执行；服务器接管

简述: 
攻击者通过`*BIT*`命令与`proto-max-bulk-len`配置参数结合的情况下，可攻击运行在32位的系统中的32位的Redis程序，该漏洞能够造成整形溢出，并最终导致远程代码执行。

 0x04   影响版本
------------



| 组件 | 影响版本 | 安全版本 |
| --- | --- | --- |
| Redis:Redis | >2.2/<5.0.13 | 5.0.13 |
| Redis:Redis | >2.2/<6.0.15 | 6.0.15 |
| Redis:Redis | >2.2/<6.2.5 | 6.2.5 |

 0x05   修复建议
------------

### 通用修补建议

根据`影响版本`中的信息，排查并升级到`安全版本`

### 临时修补建议

- 禁止低权限用户使用`CONFIG SET`指令

- 替换为64位的Redis程序

 0x06   相关空间测绘数据
----------------

360安全大脑-Quake网络空间测绘系统通过对全网资产测绘，发现`Redis`具体分布如下图所示。

Quake搜索语法：`app:"Redis"`

![](https://p403.ssl.qhimgs4.com/t01c114ce9431da94a3.png)